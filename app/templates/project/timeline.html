{% extends "base.html" %}

{% block title %}Timeline - Project Manager{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/timeline.css') }}">
{% endblock %}

{% block content %}
    <div class="timeline-container">
        <h1 class="page-title">Project Timeline</h1>
        
        <div class="timeline-grid">
            <div class="timeline-main">
                <div class="periods-grid">
                    <div class="period"></div>
                    {% for period in periods %}
                    <div class="period">{{ period }}</div>
                    {% endfor %}
                </div>

                <div class="timeline-rows-container">
                    {% for project in projects %}
                    <div class="timeline-row" data-project-name="{{ project.name }}">
                        <div class="project-name">{{ project.name }}</div>
                        <div class="project-tasks">
                            {% for task in project.tasks %}
                            {% set start_percent = task.start %}
                            {% set width_percent = task.width %}
                            <div class="task bg-{{ task.color }}"
                                style="left: {{ start_percent }}%; width: {{ width_percent }}%;"
                                data-task-info="{{ task.text }}"
                                data-dates="{{ task.start_date }} - {{ task.end_date }}">
                                {{ task.text }}
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/project/timeline.js') }}"></script>
{% endblock %}